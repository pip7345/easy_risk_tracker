<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bellator Project Fetch</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <h1>Easy Risk Tracker Demo</h1>
<p>The purpose of this demo is to show the capabilities of the easy risk tracker javascript files. The two controls below allow you to fetch project data and send AI queries. All data is sent in json format which is what the back end expects.</p>
<h2>Cost and requirements to use</h2>
<p>Each query costs $0.09 approximately to use. An account is not required, but you have to add pre-paid tokens to the account. I added approximatley $10 to an account and created an API key. Send me a message on slack and I can send you my personal API KEY.</p>
<p>To execute the AI query, you will need an API key. You can create one at <a href="https://platform.openai.com/account/api-keys" target="_blank">https://platform.openai.com/account/api-keys</a> You will have to add tokens to ChatGPT to get it to work. I used a personal API key and each query costs $0.09 approximately. Different models may cost different amounts.</p>

<p>To start, enter your iiZR username and password. The default Project ID is for Bellator, but you can change this to any project you have access to. Click "Fetch Project" to retrieve the project data in json format. The output will be displayed in the box below the form. This data will be used to construct an AI query.</p>

<p>These files are included in the demo:</p>
<ul>
  <li><strong>methodology.js</strong>: Contains the AI prompt used to calculate the scoring for the easy risk tracker. This file should be altered by analysts and will evolve over time. This will be used in the final product or the query could optionally be stored in the database so it is easier to modify.</li>
  <li><strong>ai-query.js</strong>: Sends queries to an AI model and retrieves responses. This will be used in the final product.</li>
  <li><strong>app.js</strong>: Main application logic to handle user interactions and coordinate between other scripts.</li>
  <li><strong>project-fetch.js</strong>: Fetches project data from iiZR platform in json format. This should only be required for the demo.</li>
</ul>
    <details class="card" id="fetch-panel" open>
      <summary>Project Fetch</summary>
      <form id="fetch-form">
        <label>
          iiZR Username (email)
          <input type="email" id="email" required value="" />
        </label>

        <label>
          iiZRPassword
          <input type="password" id="password" required value="" />
        </label>

        <label>
          Project ID
          <input
            type="text"
            id="project-id"
            required
            value="bd77a557-86fd-4974-8457-f46d2fd3cb67"
          />
        </label>

        <button type="submit" id="fetch-button">Fetch Project</button>
      </form>
      <div class="panel-box">
        <pre id="output">Project json output will appear here.</pre>
      </div>
    </details>


    <details class="card" id="ai-panel" open>
      <summary>AI Query</summary>
      <form id="ai-form">
        <label>
          API URL
          <input
            type="url"
            id="api-url"
            required
            value="https://api.openai.com/v1/chat/completions"
          />
        </label>

        <label>
          API Key
          <input 
          type="password" 
          id="api-key" 
          required 
          placeholder="sk-proj-" />
        </label>

        <label>
          Model
          <select id="model" required>
            <option value="gpt-5.2" selected>gpt-5.2</option>
            <option value="gpt-5.2-pro">gpt-5.2-pro</option>
            <option value="gpt-5-mini">gpt-5-mini</option>
            <option value="gpt-5-nano">gpt-5-nano</option>
            <option value="gpt-4.1">gpt-4.1</option>
            <option value="gpt-4.1-mini">gpt-4.1-mini</option>
            <option value="gpt-4.1-nano">gpt-4.1-nano</option>
            <option value="gpt-4o">gpt-4o</option>
            <option value="gpt-4o-mini">gpt-4o-mini</option>
            <option value="gpt-4-turbo">gpt-4-turbo</option>
            <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
            <option value="gpt-5-chat-latest">gpt-5-chat-latest</option>
            <option value="chatgpt-4o-latest">chatgpt-4o-latest</option>
          </select>
        </label>

        <label>
          Temperature
          <input type="number" id="temperature" step="0.1" min="0" max="2" value="0.2" />
        </label>

        <label>
          Max Tokens
          <input type="number" id="max-tokens" min="1" value="1800" />
        </label>

        <div class="panel-box" id="query-panel">
          <pre id="query-preview">Query preview will appear here after fetching the project.</pre>
        </div>

        <button type="submit" id="ai-query-button" disabled>AI Query</button>
      </form>
      <div class="panel-box">
        <pre id="ai-output">AI response will appear here.</pre>
      </div>
    </details>
  </main>

  <script src="project-fetch.js"></script>
  <script src="methodology.js"></script>
  <script src="ai-query.js"></script>
  <script src="app.js"></script>
</body>
</html>
